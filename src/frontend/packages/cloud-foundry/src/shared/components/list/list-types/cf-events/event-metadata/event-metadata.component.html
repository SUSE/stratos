<mat-dialog-content class="connection-dialog__content">
  <div *ngIf="showPopup; else showValues">
    <button mat-button (click)="doShowPopup()">
      Show Details
    </button>
  </div>
  <ng-template #showValues>
    <div class="details">
      <div class="details__section" *ngFor="let metadata of (metadata) | values">
        <div class="details__section__key">{{metadata.key}}: </div>
        <div>{{metadata.value | json}}</div>
      </div>
    </div>
  </ng-template>
</mat-dialog-content>
<mat-dialog-actions class="dialog__actions" *ngIf="isPopup">
  <button [mat-dialog-close]="true" mat-button>Close</button>
</mat-dialog-actions>